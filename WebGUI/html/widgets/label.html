<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Text</title>
		<style type="text/css">	
			body {
				font: 10px arial;
				background-color: rgba(250, 250, 250, 0);
				width: 30;
				height: 30;
				//margin: 0px !important;
			}

			div {
				font-size: 10vw;
			}
		</style>

		<script src="https://d3js.org/d3.v5.min.js"></script>

		<script>

			var parameters_ = [];
			//functions:
			//init()

			/////////////////////////////////////////////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////////////////////////////

			//init called once body has loaded
			function init()
			{
				console.log("init()");
				console.log(window.frameElement.id);
				window.parent.setupWidget(window.frameElement.id, getParameters());
				document.getElementById("display").style.width = (parseInt(window.innerWidth) - 16) + "px";
				document.getElementById("display").style.height = (parseInt(window.innerHeight) - 16) + "px";				
			}

			function setupPVs(settings)	{}

			function newWidget(widget, parameters)
			{

			}

			function getParameters()
			{
				parameters_["label"] = "";
				parameters_["label_position"] = "left";
				parameters_["border"] = "true";
				return parameters_;
			}

			function setParameters(attributes)
			{
				parameters_ = attributes;
				console.log(parameters_);
				document.getElementById("display").innerHTML = parameters_["label"];

				if (parameters_["border"]=="true")
					document.getElementById("display").style.border = "1px solid #000";
				else
					document.getElementById("display").style.border = "";

				document.getElementById("display").style.textAlign = parameters_["label_position"];
			}

			function newValue(pvName, pvValue, pvTime, pvStatus, pvSeverity) {}

			window.parent.document.getElementById("editWidgetAttributesPopup-container").onclick = function()
			{
				console.log("attribute menu onclick. label widgets parameters: " + window.parent.page_.widgets[window.frameElement.id].attributes["label"]);
				//document.getElementById("label-text").innerHTML = window.parent.page_.widgets[window.frameElement.id].attributes["label"];
			};

			window.onresize = function() {
				document.getElementById("display").style.width = (parseInt(window.innerWidth) - 16) + "px";
				document.getElementById("display").style.height = (parseInt(window.innerHeight) - 16) + "px";
			}

		</script>

</head>

	<body onload='Javascript:init();'>

	<div id="display"></div>

	</body>

</html>
