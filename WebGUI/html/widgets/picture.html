<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Picture</title>
		<style type="text/css">	
			body {
				font: 10px arial;
				background-color: rgba(255, 255, 255, 1);
				width: 30;
				height: 30;
				//margin: 0px !important;
			}

			div {
				font-size: 14px;
			}
		</style>

		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/image-map-resizer/1.0.10/js/imageMapResizer.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/image-map-resizer/1.0.10/js/imageMapResizer.js"></script>

		<script>

			var parameters_ = {"class": "", "inner_map_html": "", "upload_image": "picture-icon.png"};
			var IMAGE_PATH = "/WebPath/UserWebPath/ControlsDashboardData/private/";
			//functions:
			//init()

			/////////////////////////////////////////////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////////////////////////////

			//init called once body has loaded
			function init()
			{
				console.log("Picture init()");
				console.log(window.frameElement.id);
				window.parent.setupWidget(window.frameElement.id, getAttributes());
			}

			function setupPVs(settings)	{}

			function drawWidget(widget, parameters)
			{
				if (parameters) parameters_ = parameters;
				document.getElementById("display").innerHTML = "<img id='img1' src='" + IMAGE_PATH + parameters_["upload_image"] + "' title='" + parameters_["upload_image"] + "' usemap='#imgmap'></img>";
				document.getElementById("display").innerHTML += "<map name='#imgmap'>" + parameters_["inner_map_html"] + "</map>";
				document.getElementById("img1").style.width = (parseInt(window.innerWidth) - 16) + "px";
				document.getElementById("img1").style.height = (parseInt(window.innerHeight) - 16) + "px";
				imageMapResize();
			}

			function getAttributes()
			{
				return parameters_;
			}

			function setAttributes(attributes)
			{
				parameters_ = attributes;
				console.log("Picture setAttributes()", parameters_);
			}

			function newValue(pvName, pvValue, pvTime, pvStatus, pvSeverity) {}

			window.onresize = function() {
				document.getElementById("img1").style.width = (parseInt(window.innerWidth) - 16) + "px";
				document.getElementById("img1").style.height = (parseInt(window.innerHeight) - 16) + "px";
				imageMapResize();
			}

		</script>

</head>

	<body onload="Javascript:init()">

	<div id="display"></div>

	</body>

</html>
