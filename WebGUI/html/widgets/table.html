<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  	<head>
    	<meta http-equiv="content-type" content="text/html;charset=utf-8">
    	<title>Plotly chart</title>

		<style>

		    body {
			  font: 10px sans-serif;
			  background: rgba(250, 255, 255, 1);
			  margin: 0px !important;
			}

		</style>

		<script type="text/javascript" src="libraries/dist/js/tabulator.min.js"></script>

		<script>
			//functions:			
			//init()					

			var pv_settings_ = [];
			var PVList = {};

			/////////////////////////////////////////////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////////////////////////////

			//init called once body has loaded

			function init()
			{
				console.log("init()");
				console.log(window.frameElement.id);
				console.log("Dimensions: " + window.innerWidth + " : " + window.innerHeight);
				window.parent.setupWidget(window.frameElement.id, getParameters());
			}

			function setupPVs(settings)
			{
				console.log("setupPVs() : " , settings);
				pv_settings_ = settings;
			}

			function newWidget(widget, parameters)
			{
				var i = 0;
				PVList = {};
				for (pv in widget.PVList)
				{
					PVList[pv] = i;
					i++;
				}
				newGraph();
			}

			function getParameters()
			{
				parameters = {};

				return parameters;
			}

			function setParameters(attributes)
			{
				
			}

			function newValue(pvName, pvValue, pvTime, pvStatus, pvSeverity)
			{
				console.log("newValue() reached", pvName, pvValue);

				drawTable(pvName, pvValue, pvStatus, pvSeverity);
			}

			function newTable()
			{

				
				console.log("newTable() reached");
			}

			function drawTable(pvName, pvValue, pvStatus, pvSeverity)
			{

;
				console.log("drawTable() reached, pv: " + pvName);
			}

			window.onresize = function() {
				//width: window.innerWidth,
				//height: window.innerHeight
				console.log("window.onresize Table");
			};

		</script>

	</head>

	<body onload="Javascript:init()">
		<div id="display" width="100%" height="100%"></div>
	</body>

</html>
