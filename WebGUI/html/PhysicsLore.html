<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Supervisor</title>
<style type="text/css">			
			body {
				background-color: rgb(51,102,0);
			}
			
			#clearDiv {
				clear: both;
			}
			
			#calsDiv a {
				text-decoration: none;
				color: black;
			}
			
			
		</style>


<script type="text/JavaScript" src="/WebPath/js/Globals.js"></script>
<script type="text/JavaScript" src="/WebPath/js/Debug.js"></script>
<script type="text/JavaScript"
	src="/WebPath/js/DesktopWindowContentCode.js"></script>


<script>		
				
		
			var _physicsIndex = -1;
			//functions:			
				//init()		
			
			
			/////////////////////////////////////////////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////////////////////////////
			
			//init called once body has loaded
			function init() {									
				calRequest();
			}	
			
			//request current settings immediately once page loads
			function calRequest() {			
												
				//get current calRequest from server
				DesktopContent.XMLHttpRequest("request?RequestType=getAliasList", "", calRequestHandler);				
			}
			

			//handle request for calRequest
			function calRequestHandler(req) {
								
				Debug.log("Settings calRequestHandler " + req);
				
				_aliasArr = req.responseXML.getElementsByTagName("config_alias");
				_keyArr = req.responseXML.getElementsByTagName("config_key");
				
				for(i=0;i<_aliasArr.length;++i) {
					if(_aliasArr[i].getAttribute('value').indexOf("Physics") == -1) continue;
					
					Debug.log("Settings found physics " + _aliasArr[i].getAttribute('value') + 
						" - " + _keyArr[i].getAttribute('value'));
					_physicsIndex = i;
				}
			}
			
			function physicsInitialize(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Initialize", "", physicsHandler);	
			}

			function physicsConfigure(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Configure", "ConfigurationAlias=Physics", physicsHandler);	
			}

			function physicsStart(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Start", "ConfigurationAlias=None", physicsHandler);	
			}

			function physicsStop(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Stop", "ConfigurationAlias=None", physicsHandler);	
			}

			function physicsPause(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Pause", "ConfigurationAlias=None", physicsHandler);	
			}

			function physicsResume(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Resume", "ConfigurationAlias=None", physicsHandler);	
			}

			function physicsHalt(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("StateMachineXgiHandler?StateMachine=Halt", "ConfigurationAlias=None", physicsHandler);	
			}

			function infoRequest(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("InfoRequestHandler?InfoRequest=StateMachineStatus", "InfoRequest=StateMachineStatus", physicsHandler);	
			}

			function infoRequestResult(mouseEvent) 
			{	
				DesktopContent.XMLHttpRequest("InfoRequestResultHandler?Request=3", "Request=3", physicsHandler);	
			}

			function physicsHandler(req) 
			{
				Debug.log("Settings physicsHandler " + req);
			}
			
			
			//Request Info about:
			// 1. anything in the world
			//	2. State Machine 
			//	3. Status of supervisors
			
		</script>

</head>


<body onload='Javascript:init();'>

<h1>Physics Data Taking</h1>

<input type='submit' onmouseup='physicsInitialize (event); return false;' value='Initialize'>
<input type='submit' onmouseup='physicsConfigure  (event); return false;' value='Configure'>
<input type='submit' onmouseup='physicsStart      (event); return false;' value='Start'>
<input type='submit' onmouseup='physicsStop       (event); return false;' value='Stop'>
<input type='submit' onmouseup='physicsPause      (event); return false;' value='Reset'>
<input type='submit' onmouseup='physicsResume     (event); return false;' value='Resume'>
<input type='submit' onmouseup='physicsHalt       (event); return false;' value='Halt'>
<input type='submit' onmouseup='infoRequest       (event); return false;' value='InfoRequest'>
<input type='submit' onmouseup='infoRequestResult (event); return false;' value='InfoResult'>


</body>

</html>
